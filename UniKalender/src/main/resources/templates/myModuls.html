<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8"/>
<title>VZ+</title>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
	integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
	crossorigin="anonymous" />

<!-- Optional theme -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
	integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r"
	crossorigin="anonymous" />

<!-- Latest compiled and minified JavaScript -->
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
	integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
	crossorigin="anonymous"></script>
<!-- Toastr -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.css" />
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.js"></script>

<!-- Fontawesome -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />

<link rel='stylesheet' href='stylesheets/navbar.css' />
<link rel="stylesheet" href="stylesheets/footer.css"/>

<!-- Calendar -->
<link rel='stylesheet' href='calendarLib/cupertino/jquery-ui.min.css' />
<link href='calendarLib/fullcalendar.css' rel='stylesheet' />
<link href='calendarLib/fullcalendar.print.css' rel='stylesheet' media='print' />
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js"></script>
<link href="stylesheets/custom.css" rel="stylesheet" />
<link rel="stylesheet" th:href="@{/stylesheets/rdash.min.css}"></link>
<style>
.modulsAnzeige{
-moz-border-radius: 30px 30px 20px 20px;
-webkit-border-radius: 30px 30px 20px 20px;
border-radius: 30px 30px 20px 20px;
/*IE 7 AND 8 DO NOT SUPPORT BORDER RADIUS*/
-moz-box-shadow: 0px 0px 4px #000000;
-webkit-box-shadow: 0px 0px 4px #000000;
box-shadow: 0px 0px 4px #000000;
/*IE 7 AND 8 DO NOT SUPPORT BLUR PROPERTY OF SHADOWS*/
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#4af4ff', endColorstr = '#42baff');
/*INNER ELEMENTS MUST NOT BREAK THIS ELEMENTS BOUNDARIES*/
/*Element must have a height (not auto)*/
/*All filters must be placed together*/
-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr = '#4af4ff', endColorstr = '#42baff')";
/*Element must have a height (not auto)*/
/*All filters must be placed together*/
background-image: -moz-linear-gradient(top, #4af4ff, #42baff);
background-image: -ms-linear-gradient(top, #4af4ff, #42baff);
background-image: -o-linear-gradient(top, #4af4ff, #42baff);
background-image: -webkit-gradient(linear, center top, center bottom, from(#4af4ff), to(#42baff));
background-image: -webkit-linear-gradient(top, #4af4ff, #42baff);
background-image: linear-gradient(top, #4af4ff, #42baff);
-moz-background-clip: padding;
-webkit-background-clip: padding-box;
background-clip: padding-box;
/*Use "background-clip: padding-box" when using rounded corners to avoid the gradient bleeding through the corners*/
/*--IE9 WILL PLACE THE FILTER ON TOP OF THE ROUNDED CORNERS--*/
}



.form-group input[type="checkbox"] {
    display: none;
}

.form-group input[type="checkbox"] + .btn-group > label span {
    width: 10%;
}

.form-group input[type="checkbox"] + .btn-group > label span:first-child {
    display: none;
}
.form-group input[type="checkbox"] + .btn-group > label span:last-child {
    display: inline-block;  
}

.form-group input[type="checkbox"]:checked + .btn-group > label span:first-child {
    display: inline;
}
.form-group input[type="checkbox"]:checked + .btn-group > label span:last-child {
    display: none;   
}

@media all and (max-width: 1200px) { /* screen size until 1200px */
    body {
        font-size: 1.3em; /* 1.5x default size */
    }
}
@media all and (max-width: 767px) { /* screen size until 500px */
    body {
        font-size: 1.8em; /* 0.8x default size */
        }
    }
.panel-heading a:after {
	font-family: 'Glyphicons Halflings';
	content: "\e114";
	float: right;
	color: grey;
}

.panel-heading a.collapsed:after {
	content: "\e080";
}
</style>
<script type="text/javascript">
function geschafftFunc(select, modulId, title) {

	$.ajax({
        url : $('#geschafftForm').attr("action"),
        data : {select: select, modulId : modulId, title : title},
        type : "get",
        success : function(msg) {
        	// Display an info toast with no title
        	$('#anzahl').load(document.URL +  ' #anzahl');
            $('#geschaftAnzhl').load(document.URL +  ' #geschaftAnzhl');
            $('#nichtGeschaftAnzahl').load(document.URL +  ' #nichtGeschaftAnzahl');
            $('#panelBody').load(document.URL +  ' #panelBody');
        	toastr.info(msg);
        },
        error : function(msg)
        {
        	toastr.info("Error " + msg);
        }
       
    });
	
 };
</script>
</head>
<body>
<div th:replace="fragments/navbar :: header"></div>
<div class="container">
	<div class="row">
	<div class="ober">
			<!-- /. ROW  -->
			<hr />
			<div class="row">
				<div class="col-md-4 col-sm-6 col-xs-6">
					<div class="panel panel-back noti-box">
						<span class="icon-box bg-color-blue set-icon"> <i
							class="fa fa-th-list"></i>
						</span>
						<div class="text-box">
							<p id="anzahl" class="main-text" th:text="${Anzahl}"></p>
							<p class="text-muted">Anzahl</p>
						</div>
					</div>
				</div>
				<div class="col-md-4 col-sm-6 col-xs-6">
					<div class="panel panel-back noti-box">
						<span class="icon-box bg-color-green set-icon"> <i
							class="fa fa-check-square-o"></i>
						</span>
						<div class="text-box">
							<p id="geschaftAnzhl" class="main-text" th:text="${geschaftAnzahl}"></p>
							<p class="text-muted">Geschaft</p>
						</div>
					</div>
				</div>
				<div class="col-md-4 col-sm-6 col-xs-6">
					<div class="panel panel-back noti-box">
						<span class="icon-box bg-color-red set-icon"> <i
							class="fa fa-square-o"></i>
						</span>
						<div class="text-box">
							<p class="main-text" id="nichtGeschaftAnzahl" th:text="${nichtGeschaftAnzahl}"></p>
							<p class="text-muted">In Bearbeitung</p>
						</div>
					</div>
				</div>
			</div>

			<!-- /. ROW  -->
			<hr />
		</div>
		
		<div class="panel-group" id="accordion">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">Import/Export</a>
                </h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse">
                <div class="panel-body">
                	<form action="import" method="get">
                	<div class="col-md-6">
                    <div class="panel panel-primary">
                    	<div class="panel-heading">Import</div>
  						<div class="panel-body">
  							<div class="form-group">
							  <label for="usr">Importnummer:</label>
							  <input type="text" class="form-control" id="importnummer" name="importnummer" placeholder="12345"/>
							  <br />
							  <button type="submit" class="btn btn-success btn-block">Import</button>
							</div>
  						</div>
					</div>
					</div>
					</form>
					<form action="export" method="get">
					<div class="col-md-6">
					<div class="panel panel-primary">
                    	<div class="panel-heading">Export</div>
  						<div class="panel-body">
  							<div class="form-group">
							  <label for="usr">Emailadresse:</label>
							  <input type="email" class="form-control" id="email" name="email" placeholder="a123456@univie.ac.at"/>
							  <br />
							  <button type="submit" class="btn btn-success btn-block">Export</button>
							</div>
  						</div>
					</div>
					</div>
					</form>
                </div>
            </div>
        </div>
        </div>
        <hr />
		<div class="panel panel-info">
				<div class="panel-heading">
					<h3 class="panel-title">My Moduls</h3>
				</div>
				<div id="panelBody" class="panel-body">
					<div class="container-fluid row-fluid">
						<div class="table-responsive">          
  							<table class="table">
  								<thead>
  									<tr>
  										<th class="col-md-1">Semester</th>
  										<th class="col-md-11" style="width: 100px;"><center>Moduls</center></th>
  									</tr>
  								</thead>
  								<tbody>
  									<tr>
  									<td><div style="margin-top:55%;"> 1. Semester </div></td>
  									<td class="col-md-1" th:each="modulList : ${modulList}" th:if="${modulList.semester == 1}">
  										<div class="panel panel-info modulsAnzeige" style="height: 150px; margin-left: 1%;  font-size: 0.8em;">
											<div class="panel-body" th:text="${modulList.title}">
											</div>
											
											<div class="[ form-group ] text-center">
									            <input type="checkbox" name="${modulList.title}" th:id="${modulList.title}" autocomplete="off" />
									            <div class="[ btn-group ]">
									                <label th:for="${modulList.title}" class="[ btn btn-success ]" style="width: 30%;" 
									                	th:onclick="'javascript:geschafftFunc(\''+${modulList.status}+'\', \''+${modulList.modulId}+'\', \''+${modulList.title}+'\');'">
									               		<span th:if="${modulList.status == -1}" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span th:if="${modulList.status == 1}" style="display: inline;" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span> </span>
									                </label>
									                <label th:for="${modulList.title}" class="[ btn btn-default active ]" style="width: 70%;">
									                    Geschafft
									                </label>
									            </div>
									        </div>
									        
										</div>
									
									
  									 </td>
  									</tr>
  									<tr>
  									<td><div style="margin-top:55%;"> 2. Semester </div></td>
  									<td class="col-md-1" th:each="modulList : ${modulList}" th:if="${modulList.semester == 2}">
  										<div class="panel panel-info modulsAnzeige" style="height: 150px; margin-left: 1%;  font-size: 0.8em;">
											<div class="panel-body" th:text="${modulList.title}">
											</div>
											<div class="[ form-group ] text-center">
									            <input type="checkbox" name="${modulList.title}" th:id="${modulList.title}" autocomplete="off" />
									            <div class="[ btn-group ]">
									                <label th:for="${modulList.title}" class="[ btn btn-success ]" style="width: 30%;"
									                	th:onclick="'javascript:geschafftFunc(\''+${modulList.status}+'\', \''+${modulList.modulId}+'\', \''+${modulList.title}+'\');'">
									                    <span th:if="${modulList.status == -1}" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span th:if="${modulList.status == 1}" style="display: inline;" class="[ glyphicon glyphicon-ok ]"></span>
									                   <span> </span>
									                </label>
									                <label th:for="${modulList.title}" class="[ btn btn-default active ]" style="width: 70%;">
									                    Geschafft
									                </label>
									            </div>
									        </div>
										</div>
									
  									 </td>
  									</tr>
  									<tr>
  									<td><div style="margin-top:55%;"> 3. Semester </div></td>
  									<td class="col-md-1" th:each="modulList : ${modulList}" th:if="${modulList.semester == 3}">
  										<div class="panel panel-info modulsAnzeige" style="height: 150px; margin-left: 1%;  font-size: 0.8em;">
											<div class="panel-body" th:text="${modulList.title}">
											</div>
											<div class="[ form-group ] text-center">
									            <input type="checkbox" name="${modulList.title}" th:id="${modulList.title}" autocomplete="off" />
									            <div class="[ btn-group ]">
									                <label th:for="${modulList.title}" class="[ btn btn-success ]" style="width: 30%;"
									                	th:onclick="'javascript:geschafftFunc(\''+${modulList.status}+'\', \''+${modulList.modulId}+'\', \''+${modulList.title}+'\');'">
									                    <span th:if="${modulList.status == -1}" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span th:if="${modulList.status == 1}" style="display: inline;" class="[ glyphicon glyphicon-ok ]"></span>
									                   <span> </span>
									                </label>
									                <label th:for="${modulList.title}" class="[ btn btn-default active ]" style="width: 70%;">
									                    Geschafft
									                </label>
									            </div>
									        </div>
										</div>
									
  									 </td>
  									</tr>
  									<tr>
  									<td><div style="margin-top:55%;"> 4. Semester </div></td>
  									<td class="col-md-1" th:each="modulList : ${modulList}" th:if="${modulList.semester == 4}">
  										<div class="panel panel-info modulsAnzeige" style="height: 150px; margin-left: 1%;  font-size: 0.8em;">
											<div class="panel-body" th:text="${modulList.title}">
											</div>
											<div class="[ form-group ] text-center">
									            <input type="checkbox" name="${modulList.title}" th:id="${modulList.title}" autocomplete="off" />
									            <div class="[ btn-group ]">
									                <label th:for="${modulList.title}" class="[ btn btn-success ]" style="width: 30%;"
									                	th:onclick="'javascript:geschafftFunc(\''+${modulList.status}+'\', \''+${modulList.modulId}+'\', \''+${modulList.title}+'\');'">
									                    <span th:if="${modulList.status == -1}" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span th:if="${modulList.status == 1}" style="display: inline;" class="[ glyphicon glyphicon-ok ]"></span>
									                   <span> </span>
									                </label>
									                <label th:for="${modulList.title}" class="[ btn btn-default active ]" style="width: 70%;">
									                    Geschafft
									                </label>
									            </div>
									        </div>
										</div>
									
  									 </td>
  									</tr>
  									<tr>
  									<td><div style="margin-top:55%;"> 5. Semester </div></td>
  									<td class="col-md-1" th:each="modulList : ${modulList}" th:if="${modulList.semester == 5}">
  										<div class="panel panel-info modulsAnzeige" style="height: 150px; margin-left: 1%;  font-size: 0.8em;">
											<div class="panel-body" th:text="${modulList.title}">
											</div>
											<div class="[ form-group ] text-center">
									            <input type="checkbox" name="${modulList.title}" th:id="${modulList.title}" autocomplete="off" />
									            <div class="[ btn-group ]">
									                <label th:for="${modulList.title}" class="[ btn btn-success ]" style="width: 30%;"
									                	th:onclick="'javascript:geschafftFunc(\''+${modulList.status}+'\', \''+${modulList.modulId}+'\', \''+${modulList.title}+'\');'">
									                    <span th:if="${modulList.status == -1}" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span th:if="${modulList.status == 1}" style="display: inline;" class="[ glyphicon glyphicon-ok ]"></span>
									                   <span> </span>
									                </label>
									                <label th:for="${modulList.title}" class="[ btn btn-default active ]" style="width: 70%;">
									                    Geschafft
									                </label>
									            </div>
									        </div>
										</div>
									
  									 </td>
  									</tr>
  									<tr>
  									<td><div style="margin-top:55%;"> 6. Semester </div></td>
  									<td class="col-md-1" th:each="modulList : ${modulList}" th:if="${modulList.semester == 6}">
  										<div class="panel panel-info modulsAnzeige" style="height: 150px; margin-left: 1%;  font-size: 0.8em;">
											<div class="panel-body" th:text="${modulList.title}">
											</div>
											<div class="[ form-group ] text-center">
									            <input type="checkbox" name="${modulList.title}" th:id="${modulList.title}" autocomplete="off" />
									            <div class="[ btn-group ]">
									                <label th:for="${modulList.title}" class="[ btn btn-success ]" style="width: 30%;"
									                	th:onclick="'javascript:geschafftFunc(\''+${modulList.status}+'\', \''+${modulList.modulId}+'\', \''+${modulList.title}+'\');'">
									                    <span th:if="${modulList.status == -1}" class="[ glyphicon glyphicon-ok ]"></span>
									                    <span th:if="${modulList.status == 1}" style="display: inline;" class="[ glyphicon glyphicon-ok ]"></span>
									                   <span> </span>
									                </label>
									                <label th:for="${modulList.title}" class="[ btn btn-default active ]" style="width: 70%;">
									                    Geschafft
									                </label>
									            </div>
									        </div>
										</div>
									
  									 </td>
  									</tr>
  								</tbody>
  							</table>
  						</div>
					</div>
				</div>
		</div>
	</div>
</div>
<form id="geschafftForm" method="get" action="modulStatus"></form>
<div th:replace="fragments/footer :: footer"></div>
</body>
</html>